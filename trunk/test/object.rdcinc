//R preamble
#include "../luaobject.h"
//R test Accessing globals
LuaObject x = L.global("print");
rassert(x.isFunction());
//R test Table lookup
L.doString("t = {}\nt[7] = 12");
LuaObject t = L.global("t");
L.doString("t = nil");
rassert_equal(t[7], 12);
//R test Proxy objects
L.doString("t = {}");
LuaObject t = L.global("t");
t[7] = 12;
rassert_equal(t[7], 12);
t["hello"] = "world";
rassert_equal(t["hello"],world);
rassert(t[7].isNumber());
rassert_equal(t["hello"].type(), StringType);
